module MySQLBackup            < uuid a274ee63-2853-4e20-8af7-bb8506aef301
                              < version 1.0
                              < languages en_EN
                              < apitype commandline
                              < getconfig false
                              #< requires MySQL:Database
                              < author Karl White
                              < license GPLv3
                              < url http://www.charisma-studios.com
                              
class MySQLBackup             < uuid 37d2e104-a6d7-4d13-9b64-1b28a9318b88
                              < version 1.0
                              < indexing manual
                              < requires MySQL:Database
                              < uniquein class
                              < shortname DB Snapshots
                              < title Database Snapshots
                              < description Create a backup of a MySQL database
                              < emptytext 'Database Snapshots' are automated backups of a database. By frequently backing up your databases you can easily recover them in the unfortunate event of data loss.
                              < capabilities create delete update
                              < singleton mysqlbackup

    bool enabled              : Enabled
                              < default true
                              < gridhide true
       
    string name               : Snapshot Name
                              < regexp ^[a-zA-Z0-9-_]*$
                              < gridwidth 50
 
    enum frequency            : Snapshot Frequency
                              < default Daily
                              < gridwidth 25
       
#    string dbuser             : Database Username
#                              < gridhide true
#       
#    password dbpass           : Database Password
#                              < gridhide true
#
#    bool sendemail            : Email database snapshot
#                              < default false
#                              #< breakcolumn true
#                              < gridhide true

    string email              : Email Address
                              < example webmaster@example.com
                              < default webmaster@example.com
                              < gridwidth 25
                              #< sameline true
                              < required false
                              
# ============================================================================
# ENUMS
# ============================================================================
enum frequency
    value Hourly              : Hourly
    value Daily               : Daily
    value Weekly              : Weekly
    value Monthly             : Monthly

# ============================================================================
# AUTHD
# ============================================================================
authd fileops
    match *                   : *
                              < user root
                              < group root
                              < perms 0755
#authd commands
#    command                   getobject

authd objects
    object mysql.pwd          : /etc/openpanel/mysql.pwd
